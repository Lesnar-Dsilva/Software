country_codes={"CA":"+1","US":"+1","DO":"+1","VG":"+1","UM":"+1","AG":"+1 268","AI":"+1 264","AS":"+1 684","BB":"+1 242","BM":"+1 441","BS":"+1 242","DM":"+1 767","GD":"+1 473","GU":"+1 671","JM":"+1 658","KN":"+1 869","KY":"+1 345","LC":"+1 758","MP":"+1 670","MS":"+1 664","PR":"+1 939","SX":"+1 721","TC":"+1 649","TT":"+1 868","VC":"+1 784","VI":"+1 340","EG":"+20","ZA":"+27","SS":"+211","MA":"+212","EH":"+212","DZ":"+213","TN":"+216","LY":"+218","GM":"+220","SN":"+221","MR":"+222","ML":"+223","GN":"+224","CI":"+225","BF":"+226","NE":"+227","TG":"+228","BJ":"+229","MU":"+230","LR":"+231","SL":"+232","GH":"+233","NG":"+234","TD":"+235","CF":"+236","CM":"+237","CV":"+238","ST":"+239","GQ":"+240","GA":"+241","CG":"+242","CD":"+243","AO":"+244","GW":"+245","IO":"+246","AC":"+247","SC":"+248","SD":"+249","RW":"+250","ET":"+251","SO":"+252","DJ":"+253","KE":"+254","TZ":"+255","UG":"+256","BI":"+257","MZ":"+258","ZM":"+260","MG":"+261","RE":"+262","YT":"+262","TF":"+262","ZW":"+263","NA":"+264","MW":"+265","LS":"+266","BW":"+267","SZ":"+268","KM":"+269","SH":"+290","TA":"+290","ER":"+291","AW":"+297","FO":"+298","GL":"+299","GR":"+30","NL":"+31","BE":"+32","FR":"+33","ES":"+34","HU":"+36","IT":"+39","VA":"+39","GI":"+350","PT":"+351","LU":"+352","IE":"+353","IS":"+354","AL":"+355","MT":"+356","CY":"+357","FI":"+358","AX":"+358","BG":"+359","LT":"+370","LV":"+371","EE":"+372","MD":"+373","AM":"+374","QN":"+374","BY":"+375","AD":"+376","MC":"+377","SM":"+378","UA":"+380","RS":"+381","ME":"+382","XK":"+383","HR":"+385","SI":"+386","BA":"+387","MK":"+389","RO":"+40","CH":"+41","AT":"+43","GB":"+44","GG":"+44","IM":"+44","JE":"+44","DK":"+45","SE":"+46","NO":"+47","SJ":"+47","BV":"+47","PL":"+48","DE":"+49","CZ":"+420","SK":"+421","LI":"+423","PE":"+51","MX":"+52","CU":"+53","AR":"+54","BR":"+55","CL":"+56","CO":"+57","VE":"+58","FK":"+500","GS":"+500","BZ":"+501","GT":"+502","SV":"+503","HN":"+504","NI":"+505","CR":"+506","PA":"+507","PM":"+508","HT":"+509","GP":"+590","BL":"+590","BL":"+590","MF":"+590","BO":"+591","GY":"+592","EC":"+593","GF":"+594","PY":"+595","MQ":"+596","SR":"+597","UY":"+598","BQ":"+599","CW":"+599","MY":"+60","AU":"+61","CX":"+61","CC":"+61","ID":"+62","PH":"+63","NZ":"+64","PN":"+64","SG":"+65","TH":"+66","TL":"+670","NF":"+672","AQ":"+672","HM":"+672","BN":"+673","NR":"+674","PG":"+675","TO":"+676","SB":"+677","VU":"+678","FJ":"+679","PW":"+680","WF":"+681","CK":"+682","NU":"+683","WS":"+685","KI":"+686","NC":"+687","TV":"+688","PF":"+689","TK":"+690","FM":"+691","MH":"+692","RU":"+7","KZ":"+7","JP":"+81","KR":"+82","VN":"+84","CN":"+86","KP":"+850","HK":"+852","MO":"+853","KH":"+855","LA":"+856","BD":"+880","TW":"+886","TR":"+90","CT":"+90","IN":"+91","PK":"+92","AF":"+93","LK":"+94","MM":"+95","IR":"+98","MV":"+960","LB":"+961","JO":"+962","SY":"+963","IQ":"+964","KW":"+965","SA":"+966","YE":"+967","OM":"+968","PS":"+970","AE":"+971","IL":"+972","BH":"+973","QA":"+974","BT":"+975","MN":"+976","NP":"+977","TJ":"+992","TM":"+993","AZ":"+994","GE":"+995","KG":"+996","UZ":"+998"};
countries = {"Argentina":"AR","Australia":"AU","Austria":"AT","Bahamas":"BS","Bahrain":"BH","Bangladesh":"BD","Barbados":"BB","Belgium":"BE","Belize":"BZ","Benin":"BJ","Bermuda":"BM","Bolivia":"BO","Brazil":"BR","Bulgaria":"BG","Burkina Faso":"BF","Canada":"CA","Chile":"CL","China":"CN","Colombia":"CO","Costa Rica":"CR","CÃ´te D' Ivoire":"CI","Croatia":"HR","Cuba":"CU","Cyprus":"CY","Czech Republic":"CZ","Denmark":"DK","Dominican Republic":"DO","Ecuador":"EC","Egypt":"EG","El Salvador":"SV","Estonia":"EE","Ethiopia":"ET","Finland":"FI","France":"FR","Gambia":"GM","Germany":"DE","Ghana":"GH","Great Britain":"GB","United Kingdom":"GB","England":"GB","Britain":"GB","UK":"GB","Greece":"GR","Guatemala":"GT","Guinea":"GN","Guyana":"GY","Honduras":"HN","Hong Kong":"HK","Hungary":"HU","Iceland":"IS","India":"IN","Indonesia":"ID","Iran":"IR","Iraq":"IQ","Ireland":"IE","Israel":"IL","Italy":"IT","Jamaica":"JM","JP":"Japan","Jordan":"JO","Kenya":"KE","Kuwait":"KW","Latvia":"LV","Lebanon":"LB","Liberia":"LR","Libya":"LY","Liechtenstein":"LI","Lithuania":"LT","Luxembourg":"LU","Malawi":"MW","Malaysia":"MY","Mali":"ML","Malta":"MT","Mauritania":"MR","Mauritius":"MU","Mexico":"MX","Morocco":"MA","Netherlands":"NL","New Zealand":"NZ","Nicaragua":"NI","Niger":"NE","Nigeria":"NG","Norway":"NO","Oman":"OM","Pakistan":"PK","Panama":"PA","Paraguay":"PY","Peru":"PE","Philippines":"PH","Poland":"PL","Portugal":"PT","Puerto Rico":"PR","Qatar":"QA","Republic of Korea":"KR","Romania":"RO","Russian Federation":"RU","Russia":"RU","Saudi Arabia":"SA","Senegal":"SN","Seychelles":"SC","Sierra Leone":"SL","Singapore":"SG","Slovakia":"SK","Slovenia":"SI","South Afria":"ZA","Spain":"ES","Sri Lanka":"LK","Sudan":"SD","Surinam":"SR","Sweden":"SE","Switzerland":"CH","Syria":"SY","Syrian Arab Republic":"SY","Taiwan":"TW","Tanzania":"TZ","Thailand":"TH","Trinidad and Tobago":"TT","Tunisia":"TN","Turkey":"TR","Uganda":"UG","Ukraine":"UA","United Arab Emirates":"AE","United States of America":"US","United States":"US","America":"US","Uruguay":"UY","Venezuela":"VE","Vietnam":"VN","Yemen":"YE","Zambia":"ZM","Zimbabwe":"ZW"};
class person:
    def __init__(self,f_name,l_name,number,address,email,country,country_code):
        self.f_name,self.l_name,self.number,self.address,self.email,self.country,self.country_code = f_name,l_name,number,address,email,country,country_code;
contacts = [];
user = "";
while user != "q":
    user = input("What would you like to do\n1.Add a contact\n2.Update an existing contact\n3.Delete a contact\n4.View all contacts\n5.Save all contacts to a text file\n>");
    if user == "1":
        f_name = input("What is their first name?: ");
        l_name = input("What is their last name?: ");
        number = input("What is their number?(don't include national or international country code): ");
        address = input("What is their address?: ");
        email = input("What is their email?: ");
        country,country_code,country_found = "","",False;
        while country_found == False:
            country = input("What is their country?(Use full name): ");
            if country in countries.keys():
                country_code = country_codes[countries[country]];
                country_found = True;
            elif country in country_codes.keys():
                country_code = country_codes[country];
                country_found = True;
            else:
                print("Country not found. Check your spelling or use another name for the country.");
        t = [];
        for x in contacts:
            if x.f_name == f_name and x.l_name == l_name and x.number == number:t.append(True);
            else:t.append(False);
        if sum(t) == 0 :
            contacts.append(person(f_name,l_name,number,address,email,country,country_code));
        else:
            print("Contact already exists.")
    elif user == "2":
        f_name = input("What is their first name?: ");
        l_name = input("What is their last name?: ");
        number = input("What is/was their number?(the one previously entered into the contacts book and don't include national or international country code): ")
        t = [];
        for x in contacts:
            if x.f_name == f_name and x.l_name == l_name and x.number == number:
                t.append(True);
                user = input("What would you like to change?:\n1.First Name\n2.Last Name\n3.Phone number\n4.Email\n5.Address\n6.Country\n>");
                if user == "1":
                    x.f_name = input("What is their first name?: ");
                elif user == "2":
                    x.l_name = input("What is their last name?: ");
                elif user == "3":
                    x.number = input("What is their numbe? (don't include national or international country code): ");
                elif user == "4":
                    x.email = input("What is their email?: ");
                elif user == "5":
                    x.address = input("What is their address?: ");
                elif user == "6":
                    country_found = False;
                    while country_found == False:
                        x.country = input("What is their country?(Use full name): ");
                        if x.country in countries.keys():
                            x.country_code = country_codes[countries[x.country]];
                            country_found = True;
                        elif x.country in country_codes.keys():
                            x.country_code = country_codes[x.country];
                            country_found = True;
                        else:
                            print("Country not found. Check your spelling or use another name for the country.");
            else:
                t.append(False);
        if sum(t) == 0:
            print("Contact doesn't exist.");
    elif user == "3":
        f_name = input("What is their first name?: ");
        l_name = input("What is their last name?: ");
        number = input("What is/was their number?(the one previously entered into the contacts book and don't include national or international country code): ");
        for x in contacts:
            if x.f_name == f_name and x.l_name == l_name and x.number == number:
                contacts.pop(contacts.index(x));
    elif user == "4":
        for x in contacts:
            print(x.f_name,x.l_name,x.number,x.address,x.email,x.country,x.country_code,end="\n");
    elif user == "5":
        user = input("1.Create a new text file\n2.Overwrite existing text file\n->");
        if user == "1":
            try:
                t = open("contacts.txt","x");
            except:
                x = input("Enter a new file name as contacts.txt already exists (don't include .txt): ")
                t = open(f"{x}.txt","x");
            for x in contacts:
                t.write(x.f_name+" "+x.l_name+" "+x.number+" "+x.address+" "+x.email+" "+x.country+" "+x.country_code+"\n");
            t.close();
        elif user == "2":
            t = open("contacts.txt","w");
            for x in contacts:
                t.write(x.f_name+" "+x.l_name+" "+x.number+" "+x.address+" "+x.email+" "+x.country+" "+x.country_code+"\n");
            t.close();
        else:
            print("Input not recognized!");
    else:
        print("\nINPUT NOT RECOGNIZED!\n");
#2hrs 31mins 18/05/2022